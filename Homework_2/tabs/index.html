<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    <title>Homework 2</title>

    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link href="css/styles.css" rel="stylesheet"/>
    <script src="js/vue.js"></script>

</head>
<body>
<div class="wrapper">
    <div class="example">

        <h2 class="modal-title">Choose your category</h2>

        <ul class="nav nav-pills nav-fill">
            <li class="nav-item" v-for="(items, i) in uniq_categories">
                <a href="#" class="nav-link">{{ uniq_categories[i] }}</a>
            </li>
        </ul>

        <div class="card-wrapper" id="">
            <div class="card" v-for="(items, i) in list">
                <img class="card-img-top" :src="list[i].img">
                <div class="card-body">
                    <span>Song: <b>{{ list[i].title }}</b></span>
                    <span>Artist: <b>{{ list[i].artist }}</b></span>
                    <span>Categories: <b>{{ list[i].category.join(', ') }}</b></span>
                </div>
            </div>
        </div>

    </div>
</div>

<script>
    function unique(arr) {
        let result = [];

        for (let str of arr) {
            if (!result.includes(str)) {
                result.push(str);
            }
        }

        return result;
    }

    Vue.createApp({
        data: () => ({
            list: [
                {
                    id: 0,
                    title: "Judas",
                    artist: "Lady Gaga",
                    category: ["Trending"],
                    img: 'img/judas.jpg',
                },
                {
                    id: 1,
                    title: "Paparazzi",
                    artist: "Lady Gaga",
                    category: ["Featured", "Genres"],
                    img: 'img/paparazzi.jpg',
                },
                {
                    id: 2,
                    title: "Just Dance",
                    artist: "Lady Gaga",
                    category: ["Featured", "Trending"],
                    img: 'img/dance.jpg',
                },
                {
                    id: 3,
                    title: "Meet Me Halfway",
                    artist: "The Black Eyed Peas",
                    category: ["Workout"],
                    img: 'img/halfway.jpg',
                },
                {
                    id: 4,
                    title: "Can't Hold Us",
                    artist: "Macklemore & Ryan Lewis",
                    category: ["Most Played", "Trending"],
                    img: 'img/cant.jpg',
                },
                {
                    id: 5,
                    title: "Dark Horse",
                    artist: "Katy Perry",
                    category: ["Most Played", "New Releases"],
                    img: 'img/horse.jpg',
                },
            ],
        }),
        computed: {
            uniq_categories() {
                let res = [];
                this.list.forEach(item => {
                    res.push(item.category);
                });
                return unique(res.flat(1));
            }
        },
        methods: {
            filtr() {

            }
        },
    }).mount(".example");
</script>
</body>
</html>
